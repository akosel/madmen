<!doctype HTML>
<meta charset = 'utf-8'>
<html>
  <head>
    <link rel='stylesheet' href='nvd3/css/nv.d3.css'>
    <link rel='stylesheet' href='nvd3/css/rNVD3.css'>
    
    <script src='nvd3/js/jquery-1.8.2.min.js' type='text/javascript'></script>
    <script src='nvd3/js/d3.v3.min.js' type='text/javascript'></script>
    <script src='nvd3/js/nv.d3.min-new.js' type='text/javascript'></script>
    <script src='nvd3/js/fisheye.js' type='text/javascript'></script>
    
    <style>
    .rChart {
      display: block;
      margin-left: auto; 
      margin-right: auto;
      width: 800px;
      height: 400px;
    }  
	#pagetitle{
	  padding:50px 0px 0px 100px;
	}
	.nv-x text{
		display:none;
	}
    </style>
    
  </head>
  <body>
	<h1 id='pagetitle'>Mad Men Episode Ratings</h1>
    <div id='chart1ef0b12474d' class='rChart nvd3'></div>  
    
    <script type='text/javascript'>
 $(document).ready(function(){
      drawchart1ef0b12474d()
    });
    function drawchart1ef0b12474d(){  
      var opts = {
 "dom": "chart1ef0b12474d",
"width":    800,
"height":    400,
"x": "Episode",
"y": "Rating",
"group": "Season",
"type": "lineChart",
"id": "chart1ef0b12474d" 
},
        data = [
 {
 "Season": 1,
"Episode":      1,
"Name": "Smoke Gets in Your Eyes",
"Rating":    7.9,
"Users": "1,165" 
},
{
 "Season": 1,
"Episode":      2,
"Name": "Ladies Room",
"Rating":    7.5,
"Users": "832" 
},
{
 "Season": 1,
"Episode":      3,
"Name": "Marriage of Figaro",
"Rating":    7.7,
"Users": "765" 
},
{
 "Season": 1,
"Episode":      4,
"Name": "New Amsterdam",
"Rating":    7.8,
"Users": "710" 
},
{
 "Season": 1,
"Episode":      5,
"Name": "5G",
"Rating":      8,
"Users": "679" 
},
{
 "Season": 1,
"Episode":      6,
"Name": "Babylon",
"Rating":    7.8,
"Users": "687" 
},
{
 "Season": 1,
"Episode":      7,
"Name": "Red in the Face",
"Rating":      8,
"Users": "651" 
},
{
 "Season": 1,
"Episode":      8,
"Name": "The Hobo Code",
"Rating":    8.3,
"Users": "696" 
},
{
 "Season": 1,
"Episode":      9,
"Name": "Shoot",
"Rating":    8.2,
"Users": "630" 
},
{
 "Season": 1,
"Episode":     10,
"Name": "Long Weekend",
"Rating":    8.2,
"Users": "625" 
},
{
 "Season": 1,
"Episode":     11,
"Name": "Indian Summer",
"Rating":    8.1,
"Users": "602" 
},
{
 "Season": 1,
"Episode":     12,
"Name": "Nixon vs. Kennedy",
"Rating":    8.7,
"Users": "717" 
},
{
 "Season": 1,
"Episode":     13,
"Name": "The Wheel",
"Rating":    8.5,
"Users": "798" 
},
{
 "Season": 2,
"Episode":      1,
"Name": "For Those Who Think Young",
"Rating":    7.8,
"Users": "580" 
},
{
 "Season": 2,
"Episode":      2,
"Name": "Flight 1",
"Rating":    7.9,
"Users": "559" 
},
{
 "Season": 2,
"Episode":      3,
"Name": "The Benefactor",
"Rating":    7.9,
"Users": "560" 
},
{
 "Season": 2,
"Episode":      4,
"Name": "Three Sundays",
"Rating":      8,
"Users": "541" 
},
{
 "Season": 2,
"Episode":      5,
"Name": "The New Girl",
"Rating":    8.3,
"Users": "555" 
},
{
 "Season": 2,
"Episode":      6,
"Name": "Maidenform",
"Rating":      8,
"Users": "533" 
},
{
 "Season": 2,
"Episode":      7,
"Name": "The Gold Violin",
"Rating":    8.4,
"Users": "536" 
},
{
 "Season": 2,
"Episode":      8,
"Name": "A Night to Remember",
"Rating":    8.3,
"Users": "534" 
},
{
 "Season": 2,
"Episode":      9,
"Name": "Six Month Leave",
"Rating":    8.4,
"Users": "524" 
},
{
 "Season": 2,
"Episode":     10,
"Name": "The Inheritance",
"Rating":      8,
"Users": "513" 
},
{
 "Season": 2,
"Episode":     11,
"Name": "The Jet Set",
"Rating":    8.2,
"Users": "621" 
},
{
 "Season": 2,
"Episode":     12,
"Name": "The Mountain King",
"Rating":    8.5,
"Users": "561" 
},
{
 "Season": 2,
"Episode":     13,
"Name": "Meditations in an Emergency",
"Rating":    8.5,
"Users": "638" 
},
{
 "Season": 3,
"Episode":      1,
"Name": "Out of Town",
"Rating":    8.2,
"Users": "546" 
},
{
 "Season": 3,
"Episode":      2,
"Name": "Love Among the Ruins",
"Rating":    7.9,
"Users": "474" 
},
{
 "Season": 3,
"Episode":      3,
"Name": "My Old Kentucky Home",
"Rating":    8.2,
"Users": "505" 
},
{
 "Season": 3,
"Episode":      4,
"Name": "The Arrangements",
"Rating":    8.2,
"Users": "459" 
},
{
 "Season": 3,
"Episode":      5,
"Name": "The Fog",
"Rating":      8,
"Users": "465" 
},
{
 "Season": 3,
"Episode":      6,
"Name": "Guy Walks Into an Advertising Agency",
"Rating":    8.4,
"Users": "672" 
},
{
 "Season": 3,
"Episode":      7,
"Name": "Seven Twenty Three",
"Rating":    8.4,
"Users": "492" 
},
{
 "Season": 3,
"Episode":      8,
"Name": "Souvenir",
"Rating":    8.1,
"Users": "463" 
},
{
 "Season": 3,
"Episode":      9,
"Name": "Wee Small Hours",
"Rating":    8.2,
"Users": "440" 
},
{
 "Season": 3,
"Episode":     10,
"Name": "The Color Blue",
"Rating":    8.3,
"Users": "461" 
},
{
 "Season": 3,
"Episode":     11,
"Name": "The Gypsy and the Hobo",
"Rating":    8.4,
"Users": "624" 
},
{
 "Season": 3,
"Episode":     12,
"Name": "The Grown-Ups",
"Rating":    8.7,
"Users": "555" 
},
{
 "Season": 3,
"Episode":     13,
"Name": "Shut the Door. Have a Seat",
"Rating":    8.5,
"Users": "1,014" 
},
{
 "Season": 4,
"Episode":      1,
"Name": "Public Relations",
"Rating":    8.6,
"Users": "613" 
},
{
 "Season": 4,
"Episode":      2,
"Name": "Christmas Comes But Once a Year",
"Rating":    8.2,
"Users": "482" 
},
{
 "Season": 4,
"Episode":      3,
"Name": "The Good News",
"Rating":    8.6,
"Users": "510" 
},
{
 "Season": 4,
"Episode":      4,
"Name": "The Rejected",
"Rating":    8.3,
"Users": "463" 
},
{
 "Season": 4,
"Episode":      5,
"Name": "The Chrysanthemum and the Sword",
"Rating":    8.6,
"Users": "492" 
},
{
 "Season": 4,
"Episode":      6,
"Name": "Waldorf Stories",
"Rating":    8.5,
"Users": "486" 
},
{
 "Season": 4,
"Episode":      7,
"Name": "The Suitcase",
"Rating":    8.6,
"Users": "1,286" 
},
{
 "Season": 4,
"Episode":      8,
"Name": "The Summer Man",
"Rating":    8.5,
"Users": "489" 
},
{
 "Season": 4,
"Episode":      9,
"Name": "The Beautiful Girls",
"Rating":    8.6,
"Users": "497" 
},
{
 "Season": 4,
"Episode":     10,
"Name": "Hands and Knees",
"Rating":    8.6,
"Users": "465" 
},
{
 "Season": 4,
"Episode":     11,
"Name": "Chinese Wall",
"Rating":    8.3,
"Users": "419" 
},
{
 "Season": 4,
"Episode":     12,
"Name": "Blowing Smoke",
"Rating":    8.3,
"Users": "500" 
},
{
 "Season": 4,
"Episode":     13,
"Name": "Tomorrowland",
"Rating":    8.3,
"Users": "647" 
},
{
 "Season": 5,
"Episode":      1,
"Name": "A Little Kiss, Part 1",
"Rating":    8.5,
"Users": "714" 
},
{
 "Season": 5,
"Episode":      2,
"Name": "A Little Kiss, Part 2",
"Rating":    8.6,
"Users": "539" 
},
{
 "Season": 5,
"Episode":      3,
"Name": "Tea Leaves",
"Rating":    7.9,
"Users": "505" 
},
{
 "Season": 5,
"Episode":      4,
"Name": "Mystery Date",
"Rating":    8.5,
"Users": "546" 
},
{
 "Season": 5,
"Episode":      5,
"Name": "Signal 30",
"Rating":    8.6,
"Users": "643" 
},
{
 "Season": 5,
"Episode":      6,
"Name": "Far Away Places",
"Rating":    8.5,
"Users": "668" 
},
{
 "Season": 5,
"Episode":      7,
"Name": "At the Codfish Ball",
"Rating":    8.6,
"Users": "503" 
},
{
 "Season": 5,
"Episode":      8,
"Name": "Lady Lazarus",
"Rating":    8.2,
"Users": "447" 
},
{
 "Season": 5,
"Episode":      9,
"Name": "Dark Shadows",
"Rating":    8.2,
"Users": "419" 
},
{
 "Season": 5,
"Episode":     10,
"Name": "Christmas Waltz",
"Rating":    8.2,
"Users": "447" 
},
{
 "Season": 5,
"Episode":     11,
"Name": "The Other Woman",
"Rating":    8.4,
"Users": "789" 
},
{
 "Season": 5,
"Episode":     12,
"Name": "Commissions and Fees",
"Rating":    8.3,
"Users": "715" 
},
{
 "Season": 5,
"Episode":     13,
"Name": "The Phantom",
"Rating":    8.4,
"Users": "549" 
},
{
 "Season": 6,
"Episode":      1,
"Name": "The Doorway, Part 1",
"Rating":    7.7,
"Users": "505" 
},
{
 "Season": 6,
"Episode":      2,
"Name": "The Doorway, Part 2",
"Rating":    7.9,
"Users": "416" 
},
{
 "Season": 6,
"Episode":      3,
"Name": "Collaborators",
"Rating":    8.1,
"Users": "407" 
},
{
 "Season": 6,
"Episode":      4,
"Name": "To Have and to Hold",
"Rating":    8.3,
"Users": "366" 
},
{
 "Season": 6,
"Episode":      5,
"Name": "The Flood",
"Rating":    8.2,
"Users": "356" 
},
{
 "Season": 6,
"Episode":      6,
"Name": "For Immediate Release",
"Rating":    8.8,
"Users": "439" 
},
{
 "Season": 6,
"Episode":      7,
"Name": "Man with a Plan",
"Rating":    8.2,
"Users": "327" 
},
{
 "Season": 6,
"Episode":      8,
"Name": "The Crash",
"Rating":    8.4,
"Users": "408" 
},
{
 "Season": 6,
"Episode":      9,
"Name": "The Better Half",
"Rating":    8.5,
"Users": "343" 
},
{
 "Season": 6,
"Episode":     10,
"Name": "A Tale of Two Cities",
"Rating":    8.1,
"Users": "295" 
},
{
 "Season": 6,
"Episode":     11,
"Name": "Favors",
"Rating":    8.6,
"Users": "326" 
},
{
 "Season": 6,
"Episode":     12,
"Name": "The Quality of Mercy",
"Rating":    8.6,
"Users": "291" 
},
{
 "Season": 6,
"Episode":     13,
"Name": "In Care Of",
"Rating":    8.9,
"Users": "423" 
} 
]
  
      var data = d3.nest()
        .key(function(d){
          return opts.group === undefined ? 'main' : d[opts.group]
        })
        .entries(data)
      
      nv.addGraph(function() {
        var chart = nv.models[opts.type]()
          .x(function(d) { return d[opts.x] + d[opts.group] * 13 })
          .y(function(d) { return d[opts.y] })
          .width(opts.width)
          .height(opts.height)
		  .tooltipContent(function(key,x,y,e,graph){
				return '<h1>' + e.point.Name + '</h1>' + '<br>' + '<h2>Rating: ' + y + '</h2>' + '<br>' + '<h2>Season ' + e.point.Season + ' | Episode ' + e.point.Episode + '</h2>';
		  });
         
       d3.select("#" + opts.id)
        .append('svg')
        .datum(data)
        .transition().duration(500)
        .call(chart);
	   /*d3.select('#' + opts.id)
		  .append("text")
		  .attr("x", 200)             
		  .attr("y", 100)
		  .attr("text-anchor", "middle")  
		  .text("Mad Men Episode Ratings");*/
       nv.utils.windowResize(chart.update);
       return chart;
      });
    };
</script>
    
  </body>
</html>
